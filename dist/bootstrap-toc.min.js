/*!
 * Bootstrap Table of Contents v0.4.0-ottv3 (http://afeld.github.io/bootstrap-toc/)
 * Copyright 2015 Aidan Feldman
 * Licensed under MIT (https://github.com/afeld/bootstrap-toc/blob/gh-pages/LICENSE.md)
 * Modified by the City of Ottawa */
!function(a){"use strict";window.Toc={helpers:{findOrFilter:function(a,b){var c=a.find(b);return a.filter(b).add(c).filter(":not([data-toc-skip])")},generateUniqueIdBase:function(b){var c=a(b).contents().not(a(b).children()).text(),d=c.trim().toLowerCase();return d=d.replace(/[ÅÁÀÂÄĀÃ]/g,"A"),d=d.replace(/[åáàâäāã]/g,"a"),d=d.replace(/[ÇĆČ]/g,"C"),d=d.replace(/[çćč]/g,"c"),d=d.replace(/[ÉÈÊËĒĖĘ]/g,"E"),d=d.replace(/[éèêëēėę]/g,"e"),d=d.replace(/[ÍÎÏÌĪĮ]/g,"I"),d=d.replace(/[íìîïīį]/g,"i"),d=d.replace(/[ÓÒÔÖŌÕØ]/g,"O"),d=d.replace(/[óòôöōõø]/g,"o"),d=d.replace(/[ÑŃ]/g,"n"),d=d.replace(/[ñń]/g,"n"),d=d.replace(/[ŚŠ]/g,"S"),d=d.replace(/[śš]/g,"s"),d=d.replace(/[ß]/g,"ss"),d=d.replace(/[Ł]/g,"L"),d=d.replace(/[ł]/g,"l"),d=d.replace(/[ÚÙÛÜŪ]/g,"U"),d=d.replace(/[úùûüū]/g,"u"),d=d.replace(/[ŽŹŻ]/g,"Z"),d=d.replace(/[źžż]/g,"z"),d=d.replace(/[Ÿ]/g,"Y"),d=d.replace(/[ÿ]/g,"y"),d=d.replace(/[Æ]/g,"AE"),d=d.replace(/[æ]/g,"ae"),d=d.replace(/[Œ]/g,"OE"),d=d.replace(/[œ]/g,"oe"),d=d.replace(/[']/g,""),d=d.replace(/[’]/g,""),d=d.replace(/\ba\b|\ban\b|\bas\b|\bat\b|\bbefore\b|\bbut\b|\bby\b|\bfor\b|\bfrom\b|\bis\b|\bin\b|\binto\b|\blike\b|\bof\b|\boff\b|\bon\b|\bonto\b|\bper\b|\bsince\b|\bthan\b|\bthe\b|\bthis\b|\bthat\b|\bto\b|\bup\b|\bvia\b|\bwith\b/g,""),d=d.replace(/\s+/g,"-"),d=d.replace(/([~!@#$%^&*()_+=`{}\[\]\|\\:;'<>,.\/? ])+/g,"-").replace(/^(-)+|(-)+$/g,""),d=d.replace(/[^A-Za-z0-9]+/g,"-"),d||b.tagName.toLowerCase()},generateUniqueId:function(a){for(var b=this.generateUniqueIdBase(a),c=0;;c++){var d=b;if(c>0&&(d+="-"+c),!document.getElementById(d))return d}},generateAnchor:function(a){if(a.id)return a.id;var b=this.generateUniqueId(a);return a.id=b,b},createNavList:function(){return a('<ul class="nav"></ul>')},createChildNavList:function(a){var b=this.createNavList();return a.append(b),b},generateNavItem:function(b){var c=this.generateAnchor(b),d=a(b),e=d.data("toc-text")||d.text();return a('<li><a href="#'+c+'">'+e.trim()+"</a></li>")},getTopLevel:function(a,b,c){b=b||1;for(var d=b;d<=6;d++){var e=this.findOrFilter(a,"h"+d);if(e.length>1||c)return d}return b},getHeadings:function(a,b){var c="h"+b,d=b+1,e="h"+d;return this.findOrFilter(a,c+","+e)},getNavLevel:function(a){return parseInt(a.tagName.charAt(1),10)},populateNav:function(a,b,c){var e,d=a,f=this;c.each(function(c,g){var h=f.generateNavItem(g),i=f.getNavLevel(g);i===b?d=a:e&&d===a&&(d=f.createChildNavList(e)),d.append(h),e=h})},parseOps:function(b){var c;return c=b.jquery?{$nav:b}:b,c.$scope=c.$scope||a(document.body),c.$startLevel=c.$startLevel||1,c.$includeAllHeaders=c.$includeAllHeaders||!1,c}},init:function(a){a=this.helpers.parseOps(a),a.$nav.attr("data-toggle","toc");var b=this.helpers.createChildNavList(a.$nav),c=this.helpers.getTopLevel(a.$scope,a.$startLevel,a.$includeAllHeaders),d=this.helpers.getHeadings(a.$scope,c);this.helpers.populateNav(b,c,d)}},a(function(){a('nav[data-toggle="toc"]').each(function(b,c){var d=a(c);Toc.init(d)})})}(jQuery);
